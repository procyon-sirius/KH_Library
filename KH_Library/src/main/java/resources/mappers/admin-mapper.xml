<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="selectAllBook">
		SELECT BOOK_ID
			, BOOK_TITLE
			, BOOK_AUTHOR
			, PUBLISH_DATE
			, ENROLL_DATE
			, AGE_RANK
	        , STATUS
		FROM BOOK
	</entry>
	<entry key="changeStatusBook">
		UPDATE BOOK
		SET STATUS = ?
		WHERE BOOK_ID = ?
	</entry>
	
	<entry key="removeCkNCategory">
		DELETE BOOK_CATEGORY
		WHERE BOOK_ID = ?
	</entry>
	<entry key="removeCkNBook">
		DELETE BOOK
		WHERE BOOK_ID = ?
	</entry>
	
	<entry key="removeAllNCategory">
		DELETE BOOK_CATEGORY
		WHERE BOOK_ID IN (SELECT BOOK_ID
						 FROM BOOK
						 WHERE STATUS = 'N')
	</entry>
	<entry key="removeAllNBook">
		DELETE BOOK
		WHERE STATUS = 'N'
	</entry>
	<entry key="bookCategoryInfoDelete">
		DELETE BOOK_CATEGORY_INFO
		WHERE ? LIKE '%'||CATEGORY_NO||'%'
		AND CATEGORY_NO !=0
	</entry>
	<entry key="checkBookCategoryDelete">
		SELECT COUNT(*) "COUNT"
		FROM BOOK_CATEGORY
		WHERE ? LIKE '%'||CATEGORY_NO||'%'
	</entry>
	<entry key="bookCategoryDelete">
		DELETE BOOK_CATEGORY
		WHERE ? LIKE '%'||CATEGORY_NO||'%'
		AND  BOOK_ID IN (SELECT A.BOOK_ID
                          FROM(SELECT BOOK_ID
                                    , COUNT(*) COUNT
                               FROM BOOK_CATEGORY
                               GROUP BY BOOK_ID
                               ORDER BY BOOK_ID)A
                          WHERE COUNT > 1)
		AND CATEGORY_NO != 0
	</entry>
	<entry key="bookCategoryChangeZero">
		UPDATE BOOK_CATEGORY
		SET CATEGORY_NO = 0
		WHERE ? LIKE '%'||CATEGORY_NO||'%'
		AND BOOK_ID IN (SELECT A.BOOK_ID
						  FROM(SELECT BOOK_ID
		                    		, COUNT(*) COUNT
		                       FROM BOOK_CATEGORY
		                       GROUP BY BOOK_ID
		                       ORDER BY BOOK_ID)A
		                  WHERE COUNT = 1)
		AND CATEGORY_NO != 0
	</entry>
	<entry key="insertNewBookCategoryInfo">
		INSERT INTO BOOK_CATEGORY_INFO
		VALUES(?,?)
	</entry>
</properties>